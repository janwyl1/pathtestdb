var pathTestsDb=function(){"use strict";var t,r,s=0,o=40;function e(e){return $.ajax(e,{type:"GET",dataType:"json",success:a,error:d})}function a(e){r=t=e,$("#departments").val("all"),l(t),$("#search-btn").on("click",function(e){p()}),$("#show-more-btn").on("click",function(e){o<t.length&&(s=o,o+=50,l(t))}),$("#search-inpt").keypress(function(e){13==e.which&&(e.preventDefault(),p(),$("html, body").stop().animate({scrollTop:$("#search-inpt").offset().top},500))}),$("#departments").on("change",function(e){p()}),$(".card-header").on("click",function(e){$(this).find(".badge").addClass("color-brown")}),$("#search-inpt").focus()}function d(e,r,a){$(".tests").append($.parseHTML('<div class="error-msg">Unable to fetch data</div>')),console.log("Error: Unable to load data. Status: %s (%s)",r,a)}function n(e){switch(e.toString().toLowerCase()){case"brown":case"small brown":case"large brown":return"border-brown";case"red":case"small red":case"large red":return"border-red";case"green":case"small green":case"large green":return"border-green";case"yellow":case"small yellow":case"large yellow":return"border-yellow";case"orange":case"small orange":case"large orange":return"border-orange";case"faeces":return"border-faeces";case"yellow urine":return"border-yellow-urine";case"green urine":return"border-green-urine";case"24h urine":return"border-24h-urine";case"24h urine acid":return"border-24h-urine-acid";default:return"border-white"}}function l(e){var r="";e.length<1&&(r+='<div class="error-msg">No Tests Found.</div>',g()),1<=t.length&&o<t.length?$("#show-more-btn").show():g();for(var a=s;a<o;a++){e[a]&&(r+='<div class="card">',r+='<div class="card-header" data-toggle="collapse" data-target="#collapse'+a+'" aria-expanded="'+(0===a?"true":"false")+'" aria-controls="collapse'+a+'" href="#collapse'+a+'" id="heading'+a+'">',r+='<div class="no-gutters row">',r+='<div class="col-12 card-header-text '+n(e[a].Container)+'">',r+='<div class="row">',r+='<div class="card-header-left  align-self-center col-md-8">',r+='<h2 class="text-truncate">'+(e[a].Code?e[a].Name:"N/A")+"</h2>",r+='<h5 class="text-truncate">'+(e[a].Name?e[a].Code:"N/A")+"</h5>",r+="</div>",r+='<div class="card-header-right align-self-center col-md-4 d-none d-sm-block ">',e[a].Department&&(r+="<p>"+e[a].Department+"</p>"),e[a].Container&&(r+='<p class="badge badge-pill">'+e[a].Container+"</p>"),r+="</div>",r+="</div>",r+="</div>",r+="</div>",r+="</div>",r+='<div class="collapse'+(0===a?" show":"")+'" id="collapse'+a+'" aria-labelledby="heading'+a+'" data-parent="#accordion">',r+='<div class="card-body">',r+='<dl><div class="row">',e[a].Name&&(r+='<dt class="col-md-3 col-lg-2">Name</dt><dd class="col-md-9">'+e[a].Name+"</dd>"),e[a].Code&&(r+='<dt class="col-md-3 col-lg-2">Code</dt><dd class="col-md-9">'+e[a].Code+"</dd>"),e[a].Sample_Type&&(r+='<dt class="col-md-3 col-lg-2">Specimen</dt><dd class="col-md-9">'+e[a].Sample_Type+"</dd>"),e[a].Container&&(r+='<dt class="col-md-3 col-lg-2">Container</dt><dd class="col-md-9">'+e[a].Container+"</dd>"),e[a].Department&&(r+='<dt class="col-md-3 col-lg-2">Department</dt><dd class="col-md-9">'+e[a].Department+"</dd>"),e[a].EQMS_Code&&(r+='<dt class="col-md-3 col-lg-2">EQMS</dt><dd class="col-md-9"><a href="'+e[a].EQMS_Link+'" class="eqms-link">'+e[a].EQMS_Code+"</a></dd>"),e[a].Lab_Instructions&&(r+='<dt class="col-md-3 col-lg-2">Comments</dt><dd class="col-md-9">'+e[a].Lab_Instructions+"</dd>"),e[a].Aliases&&(r+='<dt class="col-md-3 col-lg-2">Known as</dt><dd class="col-md-9">'+e[a].Aliases+"</dd>"),e[a].Comments&&(r+='<dt class="col-md-3 col-lg-2">Comments</dt><dd class="col-md-9">'+e[a].Comments+"</dd>"),e[a].Turnaround&&(r+='<dt class="col-md-3 col-lg-2">Turnaround</dt><dd class="col-md-9">'+e[a].Turnaround+"</dd>"),r+="</dl></div>",r+="</div>",r+="</div>",r+="</div>")}$(".tests").append($.parseHTML(r))}function c(){t=r,s=0,o=50,$(".tests").empty()}function i(e,r){return e.filter(function(e){return e.Search_Terms.toLowerCase().includes(r.toLowerCase())})}function u(e,s){return e.sort(function(e,r){var a=e.Search_Terms.toLowerCase().indexOf(s.toLowerCase()),t=r.Search_Terms.toLowerCase().indexOf(s.toLowerCase());return a<t?-1:t<a?1:0})}function m(e,r){return e.filter(function(e){return"all"===r.toLowerCase()||e.Department.toLowerCase().includes(r.toLowerCase())})}function p(){var e=$("#search-inpt").val().toLowerCase(),r=$("#departments").val();c(),l(t=m(t=u(t=i(t,e),e),r))}function g(){$("#show-more-btn").hide()}return e("./data/pathology_tests.json"),{fetchData:e,getPathTests:function(){return t},filterTests:i,sortTests:u,filterDepartment:m,resetTests:c,appendTestsHTML:l,determineBorderColor:n}}();String.prototype.includes||(String.prototype.includes=function(e,r){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===r&&(r=0),-1!==this.indexOf(e,r)});
//# sourceMappingURL=all.min.js.map
